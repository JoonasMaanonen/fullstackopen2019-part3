{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","newValue","handler","value","onChange","PersonForm","props","onSubmit","addPerson","newName","nameHandler","newNumber","numberHandler","type","Person","name","number","id","onClick","Persons","persons","deleteHandler","map","person","key","Notification","message","notificationStyle","color","includes","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newObject","post","url","delete","put","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","notification","setNotification","useEffect","console","log","personsService","initialPersons","personsToShow","filter","toLowerCase","r","event","target","preventDefault","personObject","some","window","confirm","updatePerson","updatedPerson","setTimeout","catch","error","returnedPerson","concat","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6985fe35.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ( {newValue, handler} ) => {\n    return(\n        <div>\n            filter shown with <input\n                                value={newValue}\n                                onChange={handler}/>\n        </div>\n    )\n\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) => {\n    return(\n      <form onSubmit={props.addPerson}>\n        <div>\n          name: <input\n                    value={props.newName}\n                    onChange={props.nameHandler}/>\n        </div>\n        <div>\n            number: <input\n                        value={props.newNumber}\n                        onChange={props.numberHandler}\n                    />\n        </div>\n        <div>\n          <button\n            type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ( {name, number, id, handler} ) => {\n    return(\n        <li>{name} {number} <button onClick={ () => {handler(name, id)} }>\n                              delete\n                            </button>\n        </li>\n    )\n}\n\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ( {persons, deleteHandler } ) => {\n    return(\n      <ul>\n        {persons.map(person => <Person key={person.name}\n                                       name={person.name}\n                                       number={person.number}\n                                       id={person.id}\n                                       handler={deleteHandler}\n                                />)}\n      </ul>\n\n    )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if(message === null){\n      return null\n  }\n\n  // Had fun with coming up with the most hacky solution :)\n  const color = message.includes('Error') ? 'red' : 'green'\n  const notificationStyle = {\n    color: color,\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n\n\n\n  return(\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n  const url = `${baseUrl}/${id}`\n  const request = axios.delete(url, id)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, deletePerson, update}\n","// Libraries\nimport React, { useState, useEffect } from 'react'\n\n// Own components\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\n// Own services\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')\n    personsService\n      .getAll()\n      .then(initialPersons => {\n          setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleDeletePerson = (name, id) => {\n    if(window.confirm(`Delete ${name}?`)){\n      personsService\n        .deletePerson(id)\n        .then(deletedPerson => {\n          setPersons(persons.filter(person => person.id !== id))\n          setNotification(`Deleted person ${name}`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n    }\n    else{\n      console.log(\"Cancelled deletion process\")\n    }\n  }\n\n  const addPerson = (event) => {\n      event.preventDefault()\n      const personObject = {\n          name: newName,\n          number: newNumber,\n      }\n\n      if (persons.some(person => person.name.toLowerCase() === personObject.name.toLowerCase())){\n          if(window.confirm(`${newName} is already addedd to phonebook, replace the old number with a new one?`)){\n            // TODO: This seems a bit hacky but good for now\n            const updatePerson = persons.filter(person => person.name.toLowerCase() === personObject.name.toLowerCase())\n            const id = updatePerson[0].id\n            personsService\n              .update(id, personObject)\n              .then(updatedPerson => {\n                setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\n                setNewName('')\n                setNewNumber('')\n                setNotification(`Changed number of ${updatedPerson.name} from ${updatePerson[0].number} to ${updatedPerson.number}`)\n                setTimeout(() => {\n                  setNotification(null)\n                }, 5000)\n              })\n              .catch(error => {\n                setNotification(`Error: Information of ${personObject.name} has already been removed from server`)\n                setTimeout(() => {\n                  setNotification(null)\n                }, 5000)\n              })\n          }\n      }\n      else{\n        personsService\n          .create(personObject)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNotification(`Added ${returnedPerson.name}`)\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n            setNewName('')\n            setNewNumber('')\n          })\n\n\n      }\n  }\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase() !== newFilter.toLowerCase())\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification}r/>\n\n      <Filter newValue={newFilter} handler={(event) => {setNewFilter(event.target.value)}} />\n\n      <h3>Add a new</h3>\n\n        <PersonForm addPerson={addPerson}\n                    newName={newName}\n                    nameHandler={(event) => {setNewName(event.target.value)}}\n                    newNumber={newNumber}\n                    numberHandler={(event) => {setNewNumber(event.target.value)}}\n                    />\n\n      <h3>Numbers</h3>\n\n      <Persons persons={personsToShow} deleteHandler={handleDeletePerson}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}